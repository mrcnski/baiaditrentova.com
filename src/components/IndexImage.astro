---
interface Props {
    image: ImageMetadata;
    heading?: string;
    description?: string;
    id?: string;
    height?: string;
}

import { Image } from "astro:assets";

import { getLangFromUrl, useTranslations } from '@i18n/utils';
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const { id, image, heading, description, height = "100vh" } = Astro.props;
---

<div class="index-img-container" style={`height: ${height};`}>
    <Image id={id} class="index-img" src={image} alt={heading || t("site.name")} />
    {(heading) && <h1 class="index-heading">{heading}</h1>}
    {(description) && <p class="index-description">{description}</p>}
</div>

<style lang="less">
    .index-img-container {
        position: relative;
    }

    .index-img {
        height: 100%;
        width: 100vw;
        object-fit: cover;
    }

    .index-heading {
        position: absolute;
        top: 25%;
        left: 10%;
        max-width: 80%;

        margin: 0;
        
        font-weight: bold;
        color: var(--white-bg);
        filter: drop-shadow(2px 9px 2px rgba(0, 0, 0, .26));
    }

    .index-description {
        position: absolute;
        top: 38%;
        left: 10%;
        width: 60ch;
        max-width: 80%;

        margin: 0;
        
        color: var(--white-bg);
        font-size: 1.5rem;
        filter: drop-shadow(2px 9px 2px rgba(0, 0, 0, .26));
    }
</style>